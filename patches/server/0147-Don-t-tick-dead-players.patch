From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Softik Lord <dimap9986@gmail.com>
Date: Fri, 15 Jul 2022 03:45:11 +0500
Subject: [PATCH] Don-t-tick-dead-players


diff --git a/src/main/java/net/minecraft/server/EntityPlayer.java b/src/main/java/net/minecraft/server/EntityPlayer.java
index 023ab4603760b82fd1dec4896d3a35fb8bbd1e56..b02067e5ba0a03de4d5d725381c195a93c65e114 100644
--- a/src/main/java/net/minecraft/server/EntityPlayer.java
+++ b/src/main/java/net/minecraft/server/EntityPlayer.java
@@ -847,7 +847,7 @@ public boolean didPlayerJoinEvent = false;
     protected void a(double d0, boolean flag, IBlockData iblockdata, BlockPosition blockposition) {}
 
     protected void b(BlockPosition blockposition) {
-        if (!this.isSpectator()) {
+        if (valid && (!this.isSpectator() || this.world.isLoaded(new BlockPosition(this)))) { // Reaper - don't tick dead players that are not in the world currently (pending respawn)
             super.b(blockposition);
         }
 
