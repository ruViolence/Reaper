From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Softik Lord <dimap9986@gmail.com>
Date: Fri, 15 Jul 2022 01:08:15 +0500
Subject: [PATCH] fix-block-goal-shouldn-t-load-chunks

Pufferfish
Copyright (C) 2022 Pufferfish Studios LLC

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

diff --git a/src/main/java/net/minecraft/server/PathfinderGoalGotoTarget.java b/src/main/java/net/minecraft/server/PathfinderGoalGotoTarget.java
index e239703e5b2ac457bc946ea35f42998e01fec87e..c4806dba0c186e9df089ab1d38cc1b52736af39f 100644
--- a/src/main/java/net/minecraft/server/PathfinderGoalGotoTarget.java
+++ b/src/main/java/net/minecraft/server/PathfinderGoalGotoTarget.java
@@ -77,6 +77,7 @@ public abstract class PathfinderGoalGotoTarget extends PathfinderGoal {
                     for (int i1 = l < k && l > -k ? k : 0; i1 <= k; i1 = i1 > 0 ? -i1 : 1 - i1) {
                         BlockPosition blockposition1 = blockposition.a(l, j - 1, i1);
 
+                        if (this.c.world.getChunkIfLoaded(blockposition1) != null) continue; // Reaper - if this block isn't loaded, continue
                         if (this.c.f(blockposition1) && this.a(this.c.world, blockposition1)) {
                             setTarget(blockposition1); // Paper
                             return true;
